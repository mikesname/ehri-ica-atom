Index: lib/vendor/symfony/lib/yaml/sfYamlInline.class.php
===================================================================
--- lib/vendor/symfony/lib/yaml/sfYamlInline.class.php	(revision 9603)
+++ lib/vendor/symfony/lib/yaml/sfYamlInline.class.php	(working copy)
@@ -56,6 +56,8 @@
   {
     switch (true)
     {
+      case $value instanceof ReflectionCode:
+        return '<?php '.$value.' ?>';
       case is_resource($value):
         throw new InvalidArgumentException('Unable to dump PHP resources in a YAML file.');
       case is_object($value):
@@ -73,7 +75,7 @@
       case is_numeric($value):
         return is_infinite($value) ? str_ireplace('INF', '.Inf', strval($value)) : (is_string($value) ? "'$value'" : $value);
       case false !== strpos($value, "\n"):
-        return sprintf('"%s"', str_replace(array('"', "\n"), array('\\"', '\n'), $value));
+        return sprintf('"%s"', str_replace(array('"', "\r\n", "\n"), array('\\"', '\n', '\n'), $value));
       case preg_match('/[ \s \' " \: \{ \} \[ \] , & \*]/x', $value):
         return sprintf("'%s'", str_replace('\'', '\'\'', $value));
       case '' == $value:
